# ğŸ“Œ è·Ÿå•ä¿è´¹ | `documented_premium_in_10k`

---

## 1. æŒ‡æ ‡å®šä¹‰
- **å­—æ®µå**ï¼š`documented_premium_in_10k`  
- **å•ä½**ï¼šä¸‡å…ƒ  
- **ç±»å‹ï¼ˆDB å­˜å‚¨ï¼‰**ï¼š`numeric(18,4)`  
- **å±•ç¤ºç²¾åº¦**ï¼šä¿ç•™ 1 ä½å°æ•°  
- **å«ä¹‰**ï¼šæŒ‡åœ¨ç»Ÿè®¡æœŸå†…ç´¯è®¡ç¡®è®¤çš„ç­¾å•ä¿è´¹é‡‘é¢ï¼Œä½“ç°å…¬å¸æ‰¿ä¿è§„æ¨¡ä¸ä¸šåŠ¡äº§èƒ½ã€‚  

---

## 2. è®¡ç®—å…¬å¼ï¼ˆå…¬å¸å£å¾„ï¼‰
```text
documented_premium_in_10k(ä¸‡å…ƒ) = SUM(documented_premium_in_10k)

	â€¢	ç›´æ¥å¯¹è¡¨å†…å­—æ®µæ±‚å’Œï¼Œå·²æŒ‰ä¸‡å…ƒå£å¾„å­˜å‚¨ã€‚

â¸»

3. è®¡ç®—é¡ºåº
	1.	åœ¨ç›®æ ‡ç»Ÿè®¡ç»´åº¦ï¼ˆå¦‚ policy_start_yearã€week_numberã€third_level_organizationï¼‰èšåˆ documented_premium_in_10kï¼›
	2.	è¾“å‡ºç»“æœæŒ‰ ä¸‡å…ƒå£å¾„å­˜å‚¨ï¼ŒæŠ¥è¡¨å±‚ ROUND(â€¦,1) æ˜¾ç¤ºä¸€ä½å°æ•°ã€‚

â¸»

4. æ³¨æ„äº‹é¡¹
	â€¢	å•ä½ï¼šè¯¥å­—æ®µå·²æ˜¯ä¸‡å…ƒï¼Œä¸éœ€è¦é¢å¤–æ¢ç®—ã€‚
	â€¢	ç´¯è®¡å±æ€§ï¼šè¯¥å­—æ®µä¸ºâ€œç´¯è®¡ç­¾å•ä¿è´¹â€ï¼Œéœ€ç»“åˆ policy_start_yearã€week_number è¿›è¡Œå¹´ç´¯è®¡æˆ–å‘¨åº¦å–æ•°ã€‚
	â€¢	æ•°æ®è´¨é‡ï¼šéœ€ç¡®è®¤æºè¡¨å·²æ­£ç¡®å»é™¤é€€ä¿ã€æ‰¹æ”¹ç­‰å½±å“ï¼Œä¿è¯å£å¾„ä¸å…¬å¸ç»Ÿä¸€ã€‚

â¸»

5. å®ç°ç¤ºä¾‹ï¼ˆPostgres / Supabase SQLï¼‰

WITH base AS (
  SELECT
    policy_start_year,
    week_number,
    third_level_organization,
    SUM(documented_premium_in_10k) AS sum_doc_premium
  FROM auto_insurance_metrics
  GROUP BY 1,2,3
)
SELECT
  policy_start_year,
  week_number,
  third_level_organization,
  ROUND(sum_doc_premium, 1) AS documented_premium_in_10k
FROM base
ORDER BY policy_start_year, week_number, third_level_organization;


â¸»

6. ç¨½æ ¸ä¸è¯Šæ–­æç¤º
	â€¢	å¯ä¸ policy_countã€average_premium_per_policy äº¤å‰éªŒè¯ï¼š

policy_count â‰ˆ (documented_premium_in_10k Ã— 10000) / average_premium_per_policy


	â€¢	è‹¥å·®å¼‚è¿‡å¤§ï¼Œéœ€æ£€æŸ¥ç»Ÿè®¡è¡¨ç”Ÿæˆé€»è¾‘æˆ–æ•°æ®è´¨é‡ã€‚

â¸»

7. å£å¾„è¯´æ˜
	â€¢	å…¬å¸å£å¾„ï¼šä»¥**ç­¾å•ä¿è´¹ï¼ˆä¸‡å…ƒï¼‰**ä¸ºå‡†ï¼Œå·²æŒ‰å¹´åº¦å’Œå‘¨åº¦ç´¯è®¡ã€‚
	â€¢	è¡Œä¸šå¯¹æ¯”ï¼šè¡Œä¸šé€šå¸¸ç§°ä¸ºâ€œæ‰¿ä¿ä¿è´¹â€æˆ–â€œå·²èµšä¿è´¹â€ï¼Œæœ¬æŒ‡æ ‡ç‰¹æŒ‡â€œç­¾å•å£å¾„â€ï¼Œä¸å¯ä¸ expired_net_premium_in_10k æ··æ·†ã€‚

