# 📌 满期净保费 | `expired_net_premium_in_10k`

---

## 1. 指标定义
- **字段名**：`expired_net_premium_in_10k`  
- **单位**：万元  
- **类型（DB 存储）**：`numeric(18,4)`  
- **展示精度**：保留 1 位小数  
- **含义**：在统计期内，已满期责任对应的累计净保费。反映在该期间内实际应承担保险责任的保费收入，通常用于衡量赔付率和边际贡献。  

---

## 2. 计算公式（公司口径）
```text
expired_net_premium_in_10k(万元) = SUM(expired_net_premium_in_10k)

	•	expired_net_premium_in_10k：表中已按万元存储的累计满期净保费，直接汇总即可。

⸻

3. 计算顺序
	1.	在目标维度（policy_start_year、week_number、third_level_organization 等）进行聚合；
	2.	计算：
	•	sum_expired_premium = SUM(expired_net_premium_in_10k)
	3.	输出结果：
	•	存储口径为 万元 (numeric(18,4))；
	•	报表展示时 ROUND(sum_expired_premium, 1)。

⸻

4. 注意事项
	•	口径：该字段已是净保费（扣除退保、批改影响），不同于 documented_premium_in_10k（签单口径）。
	•	累计属性：字段本身是年累计值，需要结合 policy_start_year 与 week_number 使用。
	•	精算应用：作为 expired_loss_ratio（满期赔付率）、variable_cost_ratio、marginal_contribution_amount_in_10k 等指标的分母基础。

⸻

5. 实现示例（Postgres / Supabase SQL）

WITH base AS (
  SELECT
    policy_start_year,
    week_number,
    third_level_organization,
    SUM(expired_net_premium_in_10k) AS sum_expired_premium
  FROM auto_insurance_metrics
  GROUP BY 1,2,3
)
SELECT
  policy_start_year,
  week_number,
  third_level_organization,
  ROUND(sum_expired_premium, 1) AS expired_net_premium_in_10k
FROM base
ORDER BY policy_start_year, week_number, third_level_organization;


⸻

6. 稽核与诊断提示
	•	可与 documented_premium_in_10k 对比，检查签单保费与满期保费差额是否合理。
	•	满期保费低于签单保费属正常（因未到期保单责任未计入），若出现相反情况需排查数据口径。

⸻

7. 口径说明
	•	公司口径：expired_net_premium_in_10k 为已满期责任对应的净保费，按万元存储，年累计。
	•	行业对比：与监管报表中的“已赚保费”口径一致。
